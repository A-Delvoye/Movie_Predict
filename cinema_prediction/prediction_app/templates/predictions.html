{% extends "base.html" %}
{% block title %}Résultats des prédictions{% endblock %}
{% block content %}
{% if predictions %}

<form method="post" action="{% url 'predict' %}">
  {% csrf_token %}
  <ul style="list-style: none; padding: 0;">
    {% for movie in predictions %}
    <li style="margin-bottom: 2em;">
      <img src="{{ movie.image_url }}" alt="Affiche de {{ movie.title }}" width="150" style="float:left; margin-right: 20px;">
      <strong>{{ movie.title }}</strong><br>
      Places prédites : <strong>{{ movie.prediction }}</strong><br>
      Casting : <strong>{{ movie.casting }}</strong><br><br>
      Synospis : <strong>{{ movie.synospis }}</strong><br><br>
      Sélectionner ce film : 
      <input type="checkbox" name="checks" value="{{ movie.pk }}" id="movie_{{ movie.pk }}">
      <div style="clear: both;"></div>
    </li>
    {% endfor %}
  </ul>
  
  <button type="submit" style="
  padding: 12px 24px;
  font-size: 18px;
  background-color: #4CAF50;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  box-shadow: 0 4px 6px rgba(0,0,0,0.1);
  transition: background-color 0.3s ease;
">
  Valider la sélection
</button>
</form><br>
{% else %}
<form method="post">
  {% csrf_token %}
  <button type="submit">Lancer les prédictions</button>
</form>
{% endif %}
<p>
  <a href="{% url 'home' %}" style="
    display: inline-block;
    padding: 10px 20px;
    font-size: 16px;
    background-color: #2196F3;
    color: white;
    text-decoration: none;
    border-radius: 6px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    transition: background-color 0.3s ease;
  ">
    Accueil
  </a>
</p>

{% endblock %}